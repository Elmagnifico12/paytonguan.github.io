<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Google正确食用指南]]></title>
    <url>%2FGoogle%E6%AD%A3%E7%A1%AE%E9%A3%9F%E7%94%A8%E6%8C%87%E5%8D%97%2F</url>
    <content type="text"><![CDATA[Google是一个强大的搜索引擎，所以，这篇「Google正确食用指南」就来满足大家热爱「学习」的需求啦（都懂）。 前言前面是一些基本知识，我也只是小白，想直接看方法的可以跳过这一部分。 技术原理要说明访问外网的技术原理，首先要说明一下网络的作用机制。 我们访问网络是通过数据包的传递来完成的。网站实际上是一个服务器，也就是一台电脑。我们向这台电脑发送数据包，这台电脑返回数据包给我们，就完成了访问网站的流程。 每台服务器都有一个IP地址，IP地址可以理解为我们现实生活中的地址，知道了地址，你才能准确的访问网站。 可是IP地址是一串很难记的数字，比如说，百度的IP地址是14.215.177.39，Google的IP地址经常变动。为了让我们容易记住，网站就把这一串地址用域名来代替，所以我们输入www.baidu.com，就可以访问百度了。当然，你输入14.215.177.39也是可以的，不信可以试一下。 但是域名和地址是怎样对应上的呢？这时候就需要DNS的帮忙了。DNS可以理解为帮你查地址的邮差，你告诉它域名，它返回给你正确的IP地址，你就可以访问到正确的网站了。 而这堵墙就建在你和网站之间。主要的手段有以下几个， IP封锁，当它发现你访问的IP地址是被封锁的，它就会把你拦住，让你无法访问网站。 DNS挟持，有些DNS会回复错误的地址，让你无法访问正确的网站。 DNS污染，DNS之间会互相交流信息，当有DNS回复错误地址时，会影响其他DNS也回复错误的地址。 关键词过滤，它会对传输的数据包进行检查，如果发现有位于黑名单内的关键词，则会阻止数据包的传递。 具体可以看一下这几个视频。 123https://youtu.be/dpKb8uEMPEYhttps://youtu.be/ZT-q6mJ-e3ghttps://youtu.be/EUKmF_IKttc 访问外网的姿势由于现在所使用的是黑名单模式，在黑名单上的网站IP无法访问，不在黑名单上的第三方IP就可以访问。所以现在几乎所有的方法，都是去找一台能够访问外网的电脑（服务器），让它代替你去访问，然后把数据包传给你。因为这台服务器的IP地址并没有遭到封禁，所以是可以通过审查的。 现在主要的方法有下面几种，都是基于上面所说的前提，只是技术细节不同。 歪批嗯很多人都觉得歪批嗯（某三个英文字母的谐音）就等同于这篇文章的主题。但实际上，它的设计初衷并不是用来上外网，而是加密通讯。现在用这种方法很容易被发现，所以基本上已经废掉了。 但日常生活中，你也会经常接触它。举个例子，你人在外面，但你要打开校内的网站时，你就可以使用学校的这个服务。连上学校的服务器以后，就可以以校园网的身份访问校内网站，再把数据回传给你，你就可以人在外地，心系校园了（误 正向代理代理其实分正向代理和反向代理，要实现我们的目标，用的都是正向代理（我也不知道什么是反向代理 代理的设计初衷也不是上外网，而是匿名。常见的代理协议有HTTP、HTTPS、Socks4、Socks5等。 这四种代理协议都是把数据发给代理服务器，然后再由代理服务器转发给目的服务器。所以只要找到一台能够在国内访问外网的服务器的代理地址，就可以达到我们的目的了，具体做法后面会有。 机场 / 软件这里的机场当然不是我们坐飞机的机场，而是指提供节点服务的供应商。节点可以理解为服务器，机场会提供等级不同的节点，还附有使用教程。当然，绝大部分机场都是收费的。 机场的节点是通过Subscribe提供的，形式是一个URL。顾名思义，就像是你去订阅这份期刊，然后这份期刊会不定期更新自己的消息，保证这些消息是最新的。 很多打着加速器旗号的软件其实也是一个道理，当然也有一些软件是自带连接外网功能的浏览器。后面也会推荐一些好用的软件。 各种专门的协议这里的协议包括v2ray、shadowsocks（SS）、shadowsocksR（SSR）、wireguard、brook、outline等，这些协议就是为我们的目的而生的，所以它们的隐蔽性相对较高，加密方式也相对完善。但是SSR现在基本不能用了，v2ray和SS是主流的协议，速度快，安全性高。相比于SS，v2ray出现的时间比较晚，使用的人没那么多，比较推荐。下面附上v2ray的Github地址和官网地址。 12https://github.com/233boy/v2ray/wiki/https://www.v2ray.com/ 安全须知在正式介绍之前，请先穿好防护衣，包括但不限于 不要用360和百度包括360安全卫士、360杀毒、360浏览器等。因为360系和百度系的产品会自动上报IP地址，很容易造成你所用的服务器遭到封禁。 杀毒软件可以用Windows自带的Windows Defender，清理软件我自己在用CCleaner，至于悬浮球点一下清内存的功能，可以用MemReduct。当然，如果你都已经出去了，搜索引擎肯定用Google啦。 不要用国内浏览器推荐用Google Chrome。基本现在所有的浏览器都是基于Chrome的Chromium内核构建的，用国内浏览器会有上面提到的风险。当然用Microsoft Edge也行，至于Internet Explorer就不要用了，支持性差。 浏览器打开「不跟踪」请求以Chrome为例，打开设置-高级，在隐私设置和安全性一栏，打开随浏览流量一起发送「不跟踪」请求即可。 更改系统语言（可选）一般来说你用哪个国家的服务器就改哪个国家的语言，据说会更加安全，但我觉得其实不改也没什么大问题:( 初级玩家——现成服务器免费软件网上有很多关于这方面的教程，都需要用户先有一个「全局代理」环境，这就变成了一个鸡生蛋蛋生鸡的问题。遇到不少坑以后，我终于找到了几款比较好用而且免费的软件。 电脑用户无界浏览适用平台：Windows、Mac 这个软件用起来很简单，双击打开，等待服务器连接成功，然后你就可以上网了，速度还挺快。 但是这个软件背后是有组织的，奉劝大家不要被带偏了，做个默默薅羊毛的吃瓜群众就好（真诚脸 12（Windows）https://www.lanzous.com/i4eyu4b（Mac）https://www.lanzous.com/i4eyt1c JJQQKK适用平台：Windows、Mac 这是一个内置访问外网功能的Chromium浏览器，安装后从桌面右下角图标启动就可以访问了，简单易用，速度也很快。 它的Github主页上也有很详细的说明。 1https://github.com/jjqqkk/chromium 歪批嗯 Plus / Hotspot Shield适用平台：Mac 这两个软件可以在美区的Mac App Store找到，下载使用即可。关于美区Apple ID的注册，有空会再写一下的，后面也会讲一下找共享的美区Apple ID的方法。 注意，第一款软件虽然在中区Mac App Store也有上架，但是下载以后是无法使用的，必须用美区账号下载才能正常使用。 手机用户Betternet / 歪批嗯 360适用平台：iOS 同理，这两款软件也要在美区的App Store才能找到。我没有用过Betternet的安卓端，但它的Windows端表现并不好。 这两款软件在iOS的表现也很一般，只能作为应急使用。 歪批嗯 plus适用平台：iOS、Android 同样，这款软件的iOS版要在美区下载，不过可以附上它的Android版下载链接。同样的，这款软件速度不算很好，但也可以应应急。 1https://www.lanzous.com/i4ez8wd 老王歪批嗯适用平台：Android 这款软件可以在Google Play下载，当然你现在的问题就是上不去，所以还是留了个下载地址在下面。 其实Google Play有很多这一类的软件，去搜索一下就可以，不过应该要把Google账号的地区改为美国。关于国内手机如何安装Google Play服务，以后有空会再写一下。 1https://www.lanzous.com/i4ezbla 配置代理前面说过，只要知道服务器的代理地址，就可以通过代理的方式连接外网。所以重点就在如何找这些地址以及如何配置代理。 寻找代理节点通过网站这一类的网站只要谷歌一下免费代理节点就有很多，但这些网站也是需要你有外网环境的，所以用处并不是很大。但还是放两个免费代理节点的网站吧。 12http://free-proxy.cz/http://www.gatherproxy.com/zh/sockslist 通过工具打开下面的网站下载ProxyScrape，这是一个寻找免费节点的小工具。 打开后选择Check proxies，然后填写所要求的代理服务器的ping值，ping值越大，表明延迟越大。一般来说，公用的服务器ping值都会在100ms以上，因此这里可以取400-500左右。 接着是填写检查代理服务器的数量，然后会提示选择代理服务器的协议类型。一般而言HTTPS是最安全的，这里可以根据需求自行选择。 然后选择Check from ProxyScrape.com，工具就会开始筛选代理，并把可用的代理用绿色表示出来。 1https://proxyscrape.com/proxy-checker 配置网络代理获得代理节点后，我们需要配置代理，让网络通过代理上网。如果只是部分想让部分软件设置代理，则可以使用这些软件自带的代理功能。如果想实现系统代理，则需要调整系统设置。 设置软件代理以网易云音乐为例，点击设置-工具，在代理选项卡下有三个选项，若选择使用IE代理设置，则需要提前设置好IE的代理。如果选择自定义代理，则在下拉菜单中选择代理类型，并输入服务器与端口（比如说所得结果为1.2.3.4:5，则服务器地址为1.2.3.4，端口为5），保存即可。 设置IE代理打开IE，点击右上方设置-Internet选项，选择连接-局域网设置，勾选为LAN使用代理服务器，填好地址和端口，并勾选对于本机地址不使用代理服务器，保存并退出。 设置全局代理打开系统的设置-网络和Internet-代理，选择使用代理服务器，填好地址和端口，并保存。 设置浏览器代理大部分如Chrome、Firefox等浏览器，都可以通过安装插件的方式实现为浏览器设置代理。以Chrome为例，打开Chrome网上应用店，搜索SwitchyOmega并安装（需要外网环境）。在百度直接搜索也不是不行，但是这样一般会安装不成功。 1https://chrome.google.com/webstore/category/extensions?hl=zh-CN 下载完成后点击插件的选项，进入配置页面。点击情景模式的proxy，填写代理协议、代理服务器和端口。然后点击auto switch，切换规则只留proxy，默认情景模式设为直接连接，在导入在线规则列表下，点击添加规则列表并填入下面网址，点击立即更新情景模式，保存后退出。此时可以禁用系统设置中的网络代理。 点击插件，选择auto switch或proxy，就可以用浏览器访问外网了。其中proxy相当于全局模式，auto switch相当于PAC模式。至于全局模式和PAC模式，会在后面有解释。 1https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt 收费渠道收费的那可就太多了，主要是分成以下两类。 收费软件只要写着加速器的一般都是要收费的，收费标准我没有了解，有些按照流量来计费，有些按照时长。电脑端的付费软件有很多，可以在Youtube上查到。 手机用户也是一样的，只要把地区切换到美国，就能在App Store或者Google Play找到很多这一类的软件。 收费机场也不是说机场就一定收费，我也用过一些免费的机场，但也只用了一个月。机场基本都差不多，会有很详细的教程，Youtube上有很多推荐。 进阶玩家——自建服务器自己做「机场主」前面说过机场是提供国外服务器的，那能不能自己找一台国外的服务器呢？答案是肯定的，而且一点也不复杂。 自己找一台国外的服务器，速度和安全性会有保证，而且价格也不一定贵。访问外网最重要的当然是安全，前面的免费软件使用的是别人提供的服务器，有可能会留有后门，取得你的个人资料，终究不是最好的方案。 为什么用GCP现在一般的主流服务器供应商有谷歌云（Google Cloud Platform，GCP）、搬瓦工（BandwagonHost）、Vultr等。搬瓦工和Vultr我没有用过，它是要付费的，跟很多主流服务器提供商一样。如果想找这方面的服务器，还可以考虑阿里云等等，在Youtube上也会有关于这方面的视频。 至于GCP，本来也是要付费的，但是现在它有300美金试用一年的活动，搭一个服务器，就足够十几个人爽一年了。而且，根据Youtube上的教程，一年有效期过后，通过简单的操作，又可以把300美金重新拿到手。 申请GCP准备一张Visa / 万事达信用卡这是注册GCP的先决条件，因为注册需要你绑定一张信用卡以验证，但以后使用的时候，Google是不会自动从这张卡扣费的。有实体卡是最好的，但实体卡也不一定全部都可以，可以在Google或者Youtube搜索谷歌云注册看下最新的教程。 我当时是注册了一张虚拟万事达信用卡通过了认证，但我不知道现在的认证条件有没有改变，想尝试的可以试一下，教程链接在下方。 1https://www.wn789.com/14908.html 生成境外地址谷歌云现在国家选项已经不能选中国了，建议选香港或者美国，我选择的是美国。注册时需要填写地址，百度一下美国地址生成器就能得到了。 准备外网环境GCP的注册和使用需要外网环境，所以要先用前面提到的软件应个急。搭建完成后，就可以用自己搭建的服务器上网啦。 进入注册准备好上面的内容后，打开下方网页并完成注册，正常情况下Google会从你的信用卡扣费1美元，如果扣费成功，证明账号已经注册成功了。我注册时没有遇到问题，如果遇到问题的话，可以谷歌一下解决方案。 点击左上角的菜单，选择结算，可以看到剩余赠金和剩余试用日期。如果选择的地区是香港，会显示有2000+的赠金，那是因为货币单位是港元，不是美元，不必惊慌。 1https://cloud.google.com/?hl=zh-cn 用GCP搭建服务器创建防火墙规则点击菜单中的VPC网络-防火墙规则，进入防火墙规则页面后，点击创建防火墙规则，进入防火墙规则创建界面。 名称改为entrance（其他名称也可以），优先级设为1，流量方向为入站，对匹配项执行的操作选择允许，目标选择网络中的所有实例，来源IP地址范围填写0.0.0.0/0，协议和端口选全部允许，点击创建即可。 同理，再创建一个防火墙实例，名称改为exit，流量方向为出站，其余与上面的一致，保存。 创建VM实例点击菜单中的Compute Engine-VM实例，点击创建，进入VM实例创建页面。 名称任意，区域建议选择asia-east2（香港）或asia-east1（台湾），地区任意，机器类型选择微型（几个人用足够了，如果你要给很多人用，就挑大一点的），防火墙勾选允许HTTP流量、允许HTTPS流量。 下面的标签页切换到网络一栏，在网络标记一栏填入刚才创建好的两个防火墙规则的名字，点击最下方的创建，完成VM实例创建。 创建完成后会出来一个内部IP和一个外部IP，打开命令提示符（Win+R后cmd回车），输入ping 外部IP（比如ping 35.XXX.XXX.XXX），查看ping值。 如果ping值过大，则再创建一个新的实例（注意不要把原来的实例删除，不然会分配到同一台服务器），直到得到一台ping值小的服务器（一般100ms以内，数字越小越好），再把其它实例删除。 在VM实例上搭建协议这里的协议就是前面所提到的v2ray、shadowsocks（SS）、shadowsocksR（SSR）、wireguard、brook、outline等，一般选用v2ray或SS，下面以v2ray做演示。 点击VM实例上的SSH按钮，等待命令行窗口出现。在命令行中输入 12sudo -ibash &lt;(curl -s -L https://git.io/v2ray.sh) 以获取管理员权限，并执行v2ray一键安装脚本。按照流程一步步回车，还可以选择一同搭建SS。 得到v2ray配置信息后复制，并输入v2ray ssqr生成二维码，便于以后使用和分享。如果二维码无法生成，那么客户端使用的时候就要手动输入服务器的配置。 v2ray客户端的使用至此v2ray已经搭建完成，只需要下载对应的客户端即可使用。 Windows用户下载v2rayN-Core.zip，解压并打开v2rayN.exe。点击服务器，选择扫描屏幕上的二维码，客户端会自动扫描刚才生成的二维码并添加配置信息。如果无法生成二维码，则点击添加Vmess服务器，手动输入刚才保存的配置信息。右键点击新增的服务器，选择设为活动服务器。然后在v2ray的托盘图标点击右键，勾选启用http代理，并在http代理模式中选择PAC模式，即可上网。 1https://github.com/2dust/v2rayN/releases/ Mac用户与Windows客户端的配置类似。下载zip包并解压，将V2RayX.app复制到应用程序文件夹后打开，点击菜单中的Configure，输入刚才保存的服务器配置信息。然后在Servers中选择刚才新建的服务器，确保v2ray code处于load状态，并勾选PAC Mode，配置完成。 1https://github.com/insisttech/v2rayX-copy/releases Android用户下载app-universal-release.apk，安装到手机并打开。点击上方+号并选择从二维码导入配置，扫描前面生成的二维码，这样服务器配置就添加进来了。同理，如果二维码无法生成，则点击手动输入。 然后点击左上角的菜单，选择设置，在路由模式中选择绕过中国大陆。回到主页面，点击右下角的启动按钮，允许连接。 1https://github.com/2dust/v2rayNG/releases iOS用户iOS端没有官方的v2ray客户端，需要下载第三方的软件。最好用的第三方客户端是Kitsunebi，同样要用美区的Apple ID，而且需要付费。最方便的下载方法是使用共享账号，打开ios.scdxc.app，搜索Kitsunebi，根据流程完成下载就可以了。 下面以Kitsunebi为例说明iOS端的配置方法。打开Kitsunebi，选择下方的服务器，点击右上方+号并选择扫二维码，扫描刚才生成的二维码，即可导入服务器配置。然后把操作模式改到Rule，传出代理选择刚才添加的服务器。 切换到高级选项卡，点击规则集并在弹出的页面中点击Default右边的按钮，将URL改为下面的网址，并点击存储。再切换到状态标签卡，点击开关，允许连接，完成配置。以后使用时，直接打开软件并打开开关就可以了。 1https://raw.githubusercontent.com/ConnersHua/Profiles/master/Kitsunebi/Pro.conf Linux用户使用前面提到的软件涵盖了Windows、Mac、Android和iOS，唯独没有包括Linux。因为Linux系统对命令行的依赖，加上Linux的软件生态没有Windows来的广阔，导致没办法找到一个比较好的图形化客户端。 不过能玩Linux的一般都是肯折腾的人，区区命令行不在话下:( 配置代理虽然Linux找不到一个好的客户端，但是Linux还是可以通过前面所说的配置代理的方式达到我们的目的。配置方法是类似的，对于配置系统代理，在Ubuntu中位于设置-网络-网络代理-手动配置代理，其它Linux系统也类似。对于其它代理的配置则基本相同。 连接到已搭建v2ray的服务器安装v2ray进入下面网站（需要外网环境，可在Windows下进行），点击v2ray-linux-64.zip进行下载，解压后放于/tmp/v2ray，并改名为v2ray.zip。 1https://github.com/v2ray/v2ray-core/releases 打开终端并输入命令，下载好的脚本会放于终端工作路径（默认为主文件夹，即/home/用户名）。若go.sh无法下载，可使用文末附有的代码。 1wget https://install.direct/go.sh 用文本编辑器打开下载好的go.sh，找到downloadV2Ray()函数，删除函数内所有代码并return 0，如下所示 123downloadV2Ray()&#123; return 0&#125; 修改完成后在终端输入命令，等待v2ray安装完成。 1./go.sh 安装完成后输入 1sudo nautilus 输入密码时，命令行是不会有提示字符的，照输就可以了。打开文件管理器后，转到/etc/v2ray/config.json，打开并将内容用下面的代码覆盖。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122&#123; "log": &#123; "access": "", "error": "", "loglevel": "warning" &#125;, "inbound": &#123; "port": 1080, "listen": "127.0.0.1",// SOCKS 地址及代理端口，在浏览器中需配置代理并指向这个端口，此处使用127.0.0.1:1080 "protocol": "socks", "domainOverride": [ "tls", "http" ], "settings": &#123; "auth": "noauth", "udp": true, "ip": "127.0.0.1", "clients": null &#125;, "streamSettings": null &#125;, "outbound": &#123; "tag": "agentout", "protocol": "vmess", "settings": &#123; "vnext": [ &#123; "address": "server", "port": 10086, // 服务器地址及端口，需修改为自己的服务器 IP 或域名 "users": [ &#123; "id": "b831381d-6324-4d53-ad4f-8cda48b30811", "alterId": 0, "email": "t@t.tt", "security": "aes-128-gcm"// 此处配置应与服务器配置的信息一致 &#125; ] &#125; ], "servers": null &#125;, "streamSettings": &#123; "network": "tcp", "security": "", "tlsSettings": null, "tcpSettings": null, "kcpSettings": null, "wsSettings": null, "httpSettings": null &#125;, "mux": &#123; "enabled": true &#125; &#125;, "inboundDetour": null, "outboundDetour": [ &#123; "protocol": "freedom", "settings": &#123; "response": null &#125;, "tag": "direct" &#125;, &#123; "protocol": "blackhole", "settings": &#123; "response": &#123; "type": "http" &#125; &#125;, "tag": "blockout" &#125; ], "dns": &#123; "servers": [ "8.8.8.8", "8.8.4.4", "localhost" ] &#125;, "routing": &#123; "strategy": "rules", "settings": &#123; "domainStrategy": "IPIfNonMatch", "rules": [ &#123; "type": "field", "port": null, "outboundTag": "direct", "ip": [ "0.0.0.0/8", "10.0.0.0/8", "100.64.0.0/10", "127.0.0.0/8", "169.254.0.0/16", "172.16.0.0/12", "192.0.0.0/24", "192.0.2.0/24", "192.168.0.0/16", "198.18.0.0/15", "198.51.100.0/24", "203.0.113.0/24", "::1/128", "fc00::/7", "fe80::/10" ], "domain": null &#125; ] &#125; &#125;&#125; 保存后在终端Ctrl+C并输入下面的命令，使v2ray开机自启，并启动v2ray查看状态。如果显示绿色，证明v2ray已成功运行。 123sudo systemctl enable v2raysudo systemctl start v2raysudo systemctl status v2ray 使用v2ray这时候v2ray已经把你的服务器映射到本地代理127.0.0.1:1080了，按照前面所说的配置系统代理的方式即可使用，类型选择Socks5，服务器地址为127.0.0.1，端口为1080。配置系统代理后就可以配置浏览器代理，以后使用时，可以只打开浏览器代理，而关闭系统代理。 附录如何寻找美区Apple ID、下载美区付费软件推荐几个分享美区Apple ID的公众号， SCDxC、大灰hurbai、康庄大道CK、GameToom、SMG果粉ID、叶子游戏 我个人最喜欢SCDxC，已购应用多，账号也多，还有网页版ios.scdxc.app，查找应用时非常方便，也有上面所提到的v2ray客户端的下载。 这些共享账号的使用也很简单，首先你要看哪个共享账号有你想要的应用并获得密码，然后把自己的Apple ID退出并登录公众号提供的账号，就可以下载了。 拓展其它v2ray / SS的iOS客户端除iOS和Linux外，这两种协议在其他平台都是有官方客户端的。关于SS的搭建也有类似的一键安装脚本，不过我还是建议，如果想用SS的话，在v2ray配置的时候顺便搭建好就可以了，毕竟v2ray相比SS还是有优势的。关于SS的官方客户端，谷歌一下SS客户端就能找到了。 Android上的第三方客户端大多都是免费的，iOS上的第三方客户端则大多都要付费。然而iOS只能用第三方客户端…… 比较常见的第三方客户端有 Kitsunebi，最常用于v2ray（即Vmess协议），也可以用于SS。 Shadowrocket（小火箭），最常用于SS，支持包括SSR、Vmess、Socks5、HTTP(S)、Subscribe在内的很多协议，功能也很强大，使用比较简单，是多数机场选择的客户端。 Quantumult，界面设计很美观，支持SS、SSR、Subscribe、Vmess等协议。然而对新手不是很友好，我到现在都没搞懂怎么用。 上面这些最常用的，尤其以前两个为最，一个用于v2ray，一个用于SS。其余还有Surge、Pepi等。至于下载方法……前面不是说了么（ 全局 / 直连 / 规则模式全局模式（Global），就是所有的流量都走服务器，包括访问国内的网站。这样会使服务器所耗流量增加，而且访问国内网站时，由于数据包绕了远路，速度也会慢一点。但有些情况必须打开全局模式。 直连模式（Direct），就是完全不走服务器，等于没有连接外网。 规则模式（Rule），我认为跟电脑的PAC模式是一样的，通过设定规则，让某些网站走服务器，另一些则直接连接。不同的是，手机上的规则模式需要指定规则文件，而电脑的PAC模式一般会自动生成规则文件，并根据你访问的网站对规则进行更新。 前面配置iOS客户端的时候，所替换的URL其实就是一个规则文件。下面附上规则文件的Github地址，如果使用的是其它的客户端，可以在这些网站找到对应的规则文件。 12https://github.com/ConnersHua/Profiles/blob/master/README.mdhttps://github.com/allenking1028/ss/issues/10 VPS可能有人会听说过VPS，但是不知道VPS是什么，跟歪批嗯有什么关系。 其实VPS（Virtual Private Server，虚拟专用服务器）可以理解为安装到电脑上的虚拟机。一台电脑可以安装很多台虚拟机，而这些虚拟机都是相互独立的，可以用作不同的事情。也就是说，前面所提到的那些协议，都是安装在VPS上的，包括歪批嗯。 当然，VPS的作用不止是搭建服务器。普通电脑可以完成的事情，VPS也可以完成，包括搭建网站等。 一点忠告学习诚可贵，安全价更高。若为自由故，两者也不可抛。 v2ray配置脚本go.sh复制以下代码到文本编辑器并另存为go.sh，放在工作目录即可使用。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455#!/bin/bash# This file is accessible as https://install.direct/go.sh# Original source is located at github.com/v2ray/v2ray-core/release/install-release.sh# If not specify, default meaning of return value:# 0: Success# 1: System error# 2: Application error# 3: Network errorCUR_VER=""NEW_VER=""ARCH=""VDIS="64"ZIPFILE="/tmp/v2ray/v2ray.zip"V2RAY_RUNNING=0VSRC_ROOT="/tmp/v2ray"EXTRACT_ONLY=0ERROR_IF_UPTODATE=0DIST_SRC="github"CMD_INSTALL=""CMD_UPDATE=""SOFTWARE_UPDATED=0SYSTEMCTL_CMD=$(command -v systemctl 2&gt;/dev/null)SERVICE_CMD=$(command -v service 2&gt;/dev/null)CHECK=""FORCE=""HELP=""#######color code########RED="31m" # Error messageGREEN="32m" # Success messageYELLOW="33m" # Warning messageBLUE="36m" # Info message#########################while [[ $# &gt; 0 ]];do key="$1" case $key in -p|--proxy) PROXY="-x $&#123;2&#125;" shift # past argument ;; -h|--help) HELP="1" ;; -f|--force) FORCE="1" ;; -c|--check) CHECK="1" ;; --remove) REMOVE="1" ;; --version) VERSION="$2" shift ;; --extract) VSRC_ROOT="$2" shift ;; --extractonly) EXTRACT_ONLY="1" ;; -l|--local) LOCAL="$2" LOCAL_INSTALL="1" shift ;; --source) DIST_SRC="$2" shift ;; --errifuptodate) ERROR_IF_UPTODATE="1" ;; *) # unknown option ;; esac shift # past argument or valuedone###############################colorEcho()&#123; COLOR=$1 echo -e "\033[$&#123;COLOR&#125;$&#123;@:2&#125;\033[0m"&#125;sysArch()&#123; ARCH=$(uname -m) if [[ "$ARCH" == "i686" ]] || [[ "$ARCH" == "i386" ]]; then VDIS="32" elif [[ "$ARCH" == *"armv7"* ]] || [[ "$ARCH" == "armv6l" ]]; then VDIS="arm" elif [[ "$ARCH" == *"armv8"* ]] || [[ "$ARCH" == "aarch64" ]]; then VDIS="arm64" elif [[ "$ARCH" == *"mips64le"* ]]; then VDIS="mips64le" elif [[ "$ARCH" == *"mips64"* ]]; then VDIS="mips64" elif [[ "$ARCH" == *"mipsle"* ]]; then VDIS="mipsle" elif [[ "$ARCH" == *"mips"* ]]; then VDIS="mips" elif [[ "$ARCH" == *"s390x"* ]]; then VDIS="s390x" elif [[ "$ARCH" == "ppc64le" ]]; then VDIS="ppc64le" elif [[ "$ARCH" == "ppc64" ]]; then VDIS="ppc64" fi return 0&#125;downloadV2Ray()&#123; return 0&#125;installSoftware()&#123; COMPONENT=$1 if [[ -n `command -v $COMPONENT` ]]; then return 0 fi getPMT if [[ $? -eq 1 ]]; then colorEcho $&#123;RED&#125; "The system package manager tool isn't APT or YUM, please install $&#123;COMPONENT&#125; manually." return 1 fi if [[ $SOFTWARE_UPDATED -eq 0 ]]; then colorEcho $&#123;BLUE&#125; "Updating software repo" $CMD_UPDATE SOFTWARE_UPDATED=1 fi colorEcho $&#123;BLUE&#125; "Installing $&#123;COMPONENT&#125;" $CMD_INSTALL $COMPONENT if [[ $? -ne 0 ]]; then colorEcho $&#123;RED&#125; "Failed to install $&#123;COMPONENT&#125;. Please install it manually." return 1 fi return 0&#125;# return 1: not apt, yum, or zyppergetPMT()&#123; if [[ -n `command -v apt-get` ]];then CMD_INSTALL="apt-get -y -qq install" CMD_UPDATE="apt-get -qq update" elif [[ -n `command -v yum` ]]; then CMD_INSTALL="yum -y -q install" CMD_UPDATE="yum -q makecache" elif [[ -n `command -v zypper` ]]; then CMD_INSTALL="zypper -y install" CMD_UPDATE="zypper ref" else return 1 fi return 0&#125;extract()&#123; colorEcho $&#123;BLUE&#125;"Extracting V2Ray package to /tmp/v2ray." mkdir -p /tmp/v2ray unzip $1 -d $&#123;VSRC_ROOT&#125; if [[ $? -ne 0 ]]; then colorEcho $&#123;RED&#125; "Failed to extract V2Ray." return 2 fi if [[ -d "/tmp/v2ray/v2ray-$&#123;NEW_VER&#125;-linux-$&#123;VDIS&#125;" ]]; then VSRC_ROOT="/tmp/v2ray/v2ray-$&#123;NEW_VER&#125;-linux-$&#123;VDIS&#125;" fi return 0&#125;# 1: new V2Ray. 0: no. 2: not installed. 3: check failed. 4: don't check.getVersion()&#123; if [[ -n "$VERSION" ]]; then NEW_VER="$VERSION" if [[ $&#123;NEW_VER&#125; != v* ]]; then NEW_VER=v$&#123;NEW_VER&#125; fi return 4 else VER=`/usr/bin/v2ray/v2ray -version 2&gt;/dev/null` RETVAL="$?" CUR_VER=`echo $VER | head -n 1 | cut -d " " -f2` if [[ $&#123;CUR_VER&#125; != v* ]]; then CUR_VER=v$&#123;CUR_VER&#125; fi TAG_URL="https://api.github.com/repos/v2ray/v2ray-core/releases/latest" NEW_VER=`curl $&#123;PROXY&#125; -s $&#123;TAG_URL&#125; --connect-timeout 10| grep 'tag_name' | cut -d\" -f4` if [[ $&#123;NEW_VER&#125; != v* ]]; then NEW_VER=v$&#123;NEW_VER&#125; fi if [[ $? -ne 0 ]] || [[ $NEW_VER == "" ]]; then colorEcho $&#123;RED&#125; "Failed to fetch release information. Please check your network or try again." return 3 elif [[ $RETVAL -ne 0 ]];then return 2 elif [[ `echo $NEW_VER | cut -d. -f-2` != `echo $CUR_VER | cut -d. -f-2` ]];then return 1 fi return 0 fi&#125;stopV2ray()&#123; colorEcho $&#123;BLUE&#125; "Shutting down V2Ray service." if [[ -n "$&#123;SYSTEMCTL_CMD&#125;" ]] || [[ -f "/lib/systemd/system/v2ray.service" ]] || [[ -f "/etc/systemd/system/v2ray.service" ]]; then $&#123;SYSTEMCTL_CMD&#125; stop v2ray elif [[ -n "$&#123;SERVICE_CMD&#125;" ]] || [[ -f "/etc/init.d/v2ray" ]]; then $&#123;SERVICE_CMD&#125; v2ray stop fi if [[ $? -ne 0 ]]; then colorEcho $&#123;YELLOW&#125; "Failed to shutdown V2Ray service." return 2 fi return 0&#125;startV2ray()&#123; if [ -n "$&#123;SYSTEMCTL_CMD&#125;" ] &amp;&amp; [ -f "/lib/systemd/system/v2ray.service" ]; then $&#123;SYSTEMCTL_CMD&#125; start v2ray elif [ -n "$&#123;SYSTEMCTL_CMD&#125;" ] &amp;&amp; [ -f "/etc/systemd/system/v2ray.service" ]; then $&#123;SYSTEMCTL_CMD&#125; start v2ray elif [ -n "$&#123;SERVICE_CMD&#125;" ] &amp;&amp; [ -f "/etc/init.d/v2ray" ]; then $&#123;SERVICE_CMD&#125; v2ray start fi if [[ $? -ne 0 ]]; then colorEcho $&#123;YELLOW&#125; "Failed to start V2Ray service." return 2 fi return 0&#125;copyFile() &#123; NAME=$1 ERROR=`cp "$&#123;VSRC_ROOT&#125;/$&#123;NAME&#125;" "/usr/bin/v2ray/$&#123;NAME&#125;" 2&gt;&amp;1` if [[ $? -ne 0 ]]; then colorEcho $&#123;YELLOW&#125; "$&#123;ERROR&#125;" return 1 fi return 0&#125;makeExecutable() &#123; chmod +x "/usr/bin/v2ray/$1"&#125;installV2Ray()&#123; # Install V2Ray binary to /usr/bin/v2ray mkdir -p /usr/bin/v2ray copyFile v2ray if [[ $? -ne 0 ]]; then colorEcho $&#123;RED&#125; "Failed to copy V2Ray binary and resources." return 1 fi makeExecutable v2ray copyFile v2ctl &amp;&amp; makeExecutable v2ctl copyFile geoip.dat copyFile geosite.dat # Install V2Ray server config to /etc/v2ray if [[ ! -f "/etc/v2ray/config.json" ]]; then mkdir -p /etc/v2ray mkdir -p /var/log/v2ray cp "$&#123;VSRC_ROOT&#125;/vpoint_vmess_freedom.json" "/etc/v2ray/config.json" if [[ $? -ne 0 ]]; then colorEcho $&#123;YELLOW&#125; "Failed to create V2Ray configuration file. Please create it manually." return 1 fi let PORT=$RANDOM+10000 UUID=$(cat /proc/sys/kernel/random/uuid) sed -i "s/10086/$&#123;PORT&#125;/g" "/etc/v2ray/config.json" sed -i "s/23ad6b10-8d1a-40f7-8ad0-e3e35cd38297/$&#123;UUID&#125;/g" "/etc/v2ray/config.json" colorEcho $&#123;BLUE&#125; "PORT:$&#123;PORT&#125;" colorEcho $&#123;BLUE&#125; "UUID:$&#123;UUID&#125;" fi return 0&#125;installInitScript()&#123; if [[ -n "$&#123;SYSTEMCTL_CMD&#125;" ]];then if [[ ! -f "/etc/systemd/system/v2ray.service" ]]; then if [[ ! -f "/lib/systemd/system/v2ray.service" ]]; then cp "$&#123;VSRC_ROOT&#125;/systemd/v2ray.service" "/etc/systemd/system/" systemctl enable v2ray.service fi fi return elif [[ -n "$&#123;SERVICE_CMD&#125;" ]] &amp;&amp; [[ ! -f "/etc/init.d/v2ray" ]]; then installSoftware "daemon" || return $? cp "$&#123;VSRC_ROOT&#125;/systemv/v2ray" "/etc/init.d/v2ray" chmod +x "/etc/init.d/v2ray" update-rc.d v2ray defaults fi return&#125;Help()&#123; echo "./install-release.sh [-h] [-c] [--remove] [-p proxy] [-f] [--version vx.y.z] [-l file]" echo " -h, --help Show help" echo " -p, --proxy To download through a proxy server, use -p socks5://127.0.0.1:1080 or -p http://127.0.0.1:3128 etc" echo " -f, --force Force install" echo " --version Install a particular version, use --version v3.15" echo " -l, --local Install from a local file" echo " --remove Remove installed V2Ray" echo " -c, --check Check for update" return 0&#125;remove()&#123; if [[ -n "$&#123;SYSTEMCTL_CMD&#125;" ]] &amp;&amp; [[ -f "/etc/systemd/system/v2ray.service" ]];then if pgrep "v2ray" &gt; /dev/null ; then stopV2ray fi systemctl disable v2ray.service rm -rf "/usr/bin/v2ray" "/etc/systemd/system/v2ray.service" if [[ $? -ne 0 ]]; then colorEcho $&#123;RED&#125; "Failed to remove V2Ray." return 0 else colorEcho $&#123;GREEN&#125; "Removed V2Ray successfully." colorEcho $&#123;BLUE&#125; "If necessary, please remove configuration file and log file manually." return 0 fi elif [[ -n "$&#123;SYSTEMCTL_CMD&#125;" ]] &amp;&amp; [[ -f "/lib/systemd/system/v2ray.service" ]];then if pgrep "v2ray" &gt; /dev/null ; then stopV2ray fi systemctl disable v2ray.service rm -rf "/usr/bin/v2ray" "/lib/systemd/system/v2ray.service" if [[ $? -ne 0 ]]; then colorEcho $&#123;RED&#125; "Failed to remove V2Ray." return 0 else colorEcho $&#123;GREEN&#125; "Removed V2Ray successfully." colorEcho $&#123;BLUE&#125; "If necessary, please remove configuration file and log file manually." return 0 fi elif [[ -n "$&#123;SERVICE_CMD&#125;" ]] &amp;&amp; [[ -f "/etc/init.d/v2ray" ]]; then if pgrep "v2ray" &gt; /dev/null ; then stopV2ray fi rm -rf "/usr/bin/v2ray" "/etc/init.d/v2ray" if [[ $? -ne 0 ]]; then colorEcho $&#123;RED&#125; "Failed to remove V2Ray." return 0 else colorEcho $&#123;GREEN&#125; "Removed V2Ray successfully." colorEcho $&#123;BLUE&#125; "If necessary, please remove configuration file and log file manually." return 0 fi else colorEcho $&#123;YELLOW&#125; "V2Ray not found." return 0 fi&#125;checkUpdate()&#123; echo "Checking for update." VERSION="" getVersion RETVAL="$?" if [[ $RETVAL -eq 1 ]]; then colorEcho $&#123;BLUE&#125; "Found new version $&#123;NEW_VER&#125; for V2Ray.(Current version:$CUR_VER)" elif [[ $RETVAL -eq 0 ]]; then colorEcho $&#123;BLUE&#125; "No new version. Current version is $&#123;NEW_VER&#125;." elif [[ $RETVAL -eq 2 ]]; then colorEcho $&#123;YELLOW&#125; "No V2Ray installed." colorEcho $&#123;BLUE&#125; "The newest version for V2Ray is $&#123;NEW_VER&#125;." fi return 0&#125;main()&#123; #helping information [[ "$HELP" == "1" ]] &amp;&amp; Help &amp;&amp; return [[ "$CHECK" == "1" ]] &amp;&amp; checkUpdate &amp;&amp; return [[ "$REMOVE" == "1" ]] &amp;&amp; remove &amp;&amp; return sysArch # extract local file if [[ $LOCAL_INSTALL -eq 1 ]]; then colorEcho $&#123;YELLOW&#125; "Installing V2Ray via local file. Please make sure the file is a valid V2Ray package, as we are not able to determine that." NEW_VER=local installSoftware unzip || return $? rm -rf /tmp/v2ray extract $LOCAL || return $? #FILEVDIS=`ls /tmp/v2ray |grep v2ray-v |cut -d "-" -f4` #SYSTEM=`ls /tmp/v2ray |grep v2ray-v |cut -d "-" -f3` #if [[ $&#123;SYSTEM&#125; != "linux" ]]; then # colorEcho $&#123;RED&#125; "The local V2Ray can not be installed in linux." # return 1 #elif [[ $&#123;FILEVDIS&#125; != $&#123;VDIS&#125; ]]; then # colorEcho $&#123;RED&#125; "The local V2Ray can not be installed in $&#123;ARCH&#125; system." # return 1 #else # NEW_VER=`ls /tmp/v2ray |grep v2ray-v |cut -d "-" -f2` #fi else # download via network and extract installSoftware "curl" || return $? getVersion RETVAL="$?" if [[ $RETVAL == 0 ]] &amp;&amp; [[ "$FORCE" != "1" ]]; then colorEcho $&#123;BLUE&#125; "Latest version $&#123;NEW_VER&#125; is already installed." if [[ "$&#123;ERROR_IF_UPTODATE&#125;" == "1" ]]; then return 10 fi return elif [[ $RETVAL == 3 ]]; then return 3 else colorEcho $&#123;BLUE&#125; "Installing V2Ray $&#123;NEW_VER&#125; on $&#123;ARCH&#125;" downloadV2Ray || return $? installSoftware unzip || return $? extract $&#123;ZIPFILE&#125; || return $? fi fi if [[ "$&#123;EXTRACT_ONLY&#125;" == "1" ]]; then colorEcho $&#123;GREEN&#125; "V2Ray extracted to $&#123;VSRC_ROOT&#125;, and exiting..." return 0 fi if pgrep "v2ray" &gt; /dev/null ; then V2RAY_RUNNING=1 stopV2ray fi installV2Ray || return $? installInitScript || return $? if [[ $&#123;V2RAY_RUNNING&#125; -eq 1 ]];then colorEcho $&#123;BLUE&#125; "Restarting V2Ray service." startV2ray fi colorEcho $&#123;GREEN&#125; "V2Ray $&#123;NEW_VER&#125; is installed." rm -rf /tmp/v2ray return 0&#125;main]]></content>
      <categories>
        <category>Technology</category>
      </categories>
  </entry>
</search>
